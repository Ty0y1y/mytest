# å¯¼å…¥æ‰€éœ€åº“
import streamlit as st
import pandas as pd
import numpy as np
# 1. åŸºç¡€åº—é“ºä¿¡æ¯ï¼ˆ5å®¶åŠä»¥ä¸Šå—å®ç‰¹è‰²ç¾é£Ÿåº—ï¼‰
restaurants_data = {
    "åº—å": ["å¤è®°è€å‹ç²‰", "èˆ’è®°ç²‰åº—", "é‚•å‘³è€å‹ç²‰", "å†°ç¥ç³–æ°´é“º", "å—é“èºè›³ç²‰", "ä¸­å±±è·¯å…«çç²‰"],
    "åœ°å€": ["é’ç§€åŒºä¸­å±±è·¯", "å…´å®åŒºæ–°æ°‘è·¯", "æ±Ÿå—åŒºæ˜Ÿå…‰å¤§é“", "é’ç§€åŒºå»ºæ”¿è·¯", "è¥¿ä¹¡å¡˜åŒºå—é“ä¸€è¡—", "å…´å®åŒºä¸­å±±è·¯"],
    "è¯„åˆ†": [4.8, 4.9, 4.7, 4.6, 4.8, 4.7],
    "äººå‡æ¶ˆè´¹(å…ƒ)": [22, 25, 20, 15, 18, 23],
    "èœç³»": ["è€å‹ç²‰", "è€å‹ç²‰", "è€å‹ç²‰", "ç³–æ°´", "èºè›³ç²‰", "ç±³ç²‰"],
    "latitude": [22.8283, 22.8009, 22.7822, 22.8310, 22.8466, 22.8270],  # å—å®å„åŒºåŸŸçº¬åº¦
    "longitude": [108.3222, 108.3786, 108.2682, 108.2408, 108.3593, 108.3230]  # å—å®å„åŒºåŸŸç»åº¦
}
df_rest = pd.DataFrame(restaurants_data)

# 2. 12ä¸ªæœˆä»·æ ¼èµ°åŠ¿æ•°æ®ï¼ˆæ¨¡æ‹Ÿ2024å¹´1-12æœˆä»·æ ¼å˜åŒ–ï¼‰
months = [f"2024-{i+1:02d}" for i in range(12)]
np.random.seed(42)  # å›ºå®šéšæœºç§å­ä¿è¯æ•°æ®ä¸€è‡´
price_trend = pd.DataFrame({
    "æœˆä»½": months,
    "å¤è®°è€å‹ç²‰": [22, 22, 23, 23, 24, 24, 24, 25, 25, 25, 26, 26],
    "èˆ’è®°ç²‰åº—": [25, 25, 26, 26, 27, 27, 28, 28, 28, 29, 29, 30],
    "é‚•å‘³è€å‹ç²‰": [20, 20, 21, 21, 22, 22, 22, 23, 23, 23, 24, 24],
    "å†°ç¥ç³–æ°´é“º": [15, 15, 16, 16, 16, 17, 17, 17, 18, 18, 18, 19],
    "å—é“èºè›³ç²‰": [18, 18, 19, 19, 20, 20, 20, 21, 21, 21, 22, 22]
})

# 3. èœç³»é”€é‡æ•°æ®ï¼ˆæ¨¡æ‹Ÿæœˆé”€é‡ï¼‰
sales_data = pd.DataFrame({
    "èœç³»": ["è€å‹ç²‰", "èºè›³ç²‰", "ç³–æ°´", "ç±³ç²‰"],
    "æœˆå‡é”€é‡(ç¢—)": [12000, 9500, 8000, 7500]
})

# --------------------------
# é¡µé¢å†…å®¹å±•ç¤º
# --------------------------
# æ ‡é¢˜ä¸è¯´æ˜
st.title("ğŸœ å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨")
# ç¬¬ä¸€åŒºåŸŸï¼šåº—é“ºåŸºç¡€ä¿¡æ¯ï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("ğŸ“‹ å—å®ç‰¹è‰²ç¾é£Ÿåº—é“ºä¿¡æ¯")
st.dataframe(df_rest, use_container_width=True)  # è‡ªé€‚åº”å®¹å™¨å®½åº¦å±•ç¤ºæ•°æ®

# ç¬¬äºŒåŒºåŸŸï¼šèœç³»æœˆå‡é”€é‡å¯¹æ¯”ï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("ğŸ“ˆ èœç³»æœˆå‡é”€é‡å¯¹æ¯”")
st.bar_chart(sales_data.set_index("èœç³»"), use_container_width=True, color="#e67e22")

# ç¬¬ä¸‰åŒºåŸŸï¼šä»·æ ¼èµ°åŠ¿æŠ˜çº¿å›¾ï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("ğŸ“Š åº—é“º12ä¸ªæœˆä»·æ ¼èµ°åŠ¿ï¼ˆ2024å¹´ï¼‰")
st.line_chart(price_trend.set_index("æœˆä»½"), use_container_width=True, color=["#e74c3c", "#3498db", "#2ecc71", "#f39c12", "#9b59b6"])

# ç¬¬å››åŒºåŸŸï¼šåº—é“ºè¯„åˆ†åˆ†å¸ƒï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("â­ åº—é“ºè¯„åˆ†åˆ†å¸ƒ")
st.area_chart(df_rest.set_index("åº—å")["è¯„åˆ†"], use_container_width=True, color="#9b59b6")

# ç¬¬äº”åŒºåŸŸï¼šäººå‡æ¶ˆè´¹å¯¹æ¯”ï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("ğŸ’° åº—é“ºäººå‡æ¶ˆè´¹å¯¹æ¯”")
st.bar_chart(df_rest.set_index("åº—å")["äººå‡æ¶ˆè´¹(å…ƒ)"], use_container_width=True, color="#3498db")

# ç¬¬å…­åŒºåŸŸï¼šåº—é“ºä½ç½®åœ°å›¾ï¼ˆå•ç‹¬ä¸€è¡Œï¼‰
st.markdown("---")
st.subheader("ğŸ—ºï¸ ç¾é£Ÿåº—é“ºä½ç½®åˆ†å¸ƒ")
st.map(df_rest[["latitude", "longitude"]], zoom=11)  # zoom=11é€‚é…å—å®åŸå¸‚çº§åˆ«è§†å›¾

# é¡µè„šä¿¡æ¯
st.markdown("---")
st.markdown("### æ•°æ®è¯´æ˜")
st.markdown("1. ä»·æ ¼èµ°åŠ¿ã€é”€é‡æ•°æ®ä¸ºæ¨¡æ‹Ÿå€¼ï¼Œä»…ä½œå¯è§†åŒ–å±•ç¤ºï¼›")
st.markdown("2. åº—é“ºåæ ‡ä¸ºå—å®å„åŒºåŸŸå¤§è‡´ç»çº¬åº¦ï¼›")
st.markdown("3. æ•°æ®æ›´æ–°æ—¶é—´ï¼š2024å¹´12æœˆ")
